<!DOCTYPE html><html lang="CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="半醒的狐狸，专注技术与产品的学习、实践、研究。"><title>Restful Web服务架构标准 | 半醒的狐狸</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Restful Web服务架构标准</h1><a id="logo" href="/.">半醒的狐狸</a><p class="description">技术、产品、创业、思考、写作</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Start</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Restful Web服务架构标准</h1><div class="post-meta">Sep 17, 2018</div><div class="post-content"><p><img src="http://upload-images.jianshu.io/upload_images/3532419-e4ec489f85e86a16.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="RESTful"></p>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><hr>
<ol>
<li><p>什么是RESTful</p>
</li>
<li><p>HTTP方法</p>
</li>
<li><p>清晰的RESTful API</p>
</li>
<li><p>RESTful 消息</p>
</li>
<li><p>RESTful URI</p>
</li>
<li><p>RESTful 会话</p>
</li>
</ol>
<h1 id="什么是RESTful"><a href="#什么是RESTful" class="headerlink" title="什么是RESTful"></a>什么是RESTful</h1><hr>
<ul>
<li>REST是一种基于web标准软件架构标准</li>
<li>在这个标准中，把一切调用或请求的对象，都视为<strong>资源</strong>，所以，其中心思想，一切皆资源</li>
<li>客户端与服务端之间以HTTP处理数据通信</li>
<li>REST架构中，服务端提供对资源的访问，而客户端，访问并呈现资源</li>
<li>所以，REST架构中，主要参与者，就是客户端与服务端</li>
<li>服务端，负责着一切对资源的操作，这些操作会被封装成一个RESTful API，用于客户端请求</li>
<li>URIs是REST架构中的全局ID标识</li>
</ul>
<h1 id="HTTP-方法"><a href="#HTTP-方法" class="headerlink" title="HTTP 方法"></a>HTTP 方法</h1><hr>
<ul>
<li>GET 提供资源的只读访问</li>
<li>PUT 创建一个新资源</li>
<li>DELETE 用于移除一个资源</li>
<li>POST 更新现有资源或者创建新资源</li>
<li>OPTIONS 用于获取该资源所支持的操作</li>
</ul>
<h1 id="清晰的RESTful-API"><a href="#清晰的RESTful-API" class="headerlink" title="清晰的RESTful API"></a>清晰的RESTful API</h1><hr>
<p><img src="http://upload-images.jianshu.io/upload_images/3532419-699c4c8dcad53d3c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="RESTful API"></p>
<p>如图，操作类型中，只读指不会更改资源，幂等指多次执行产生的影响与与第一次执行产生的影响是一样的，N/A在表格中，可理解为  / 即划掉此格，不用理会此格</p>
<blockquote>
<p>这里顺便解释一个概念：幂等函数，或幂等方法，是指可以使用相同参数重复执行，并能获得相同结果的函数。</p>
</blockquote>
<p>REST服务器对资源的表现形式应该是包容的，即使用什么格式传递数据，应该由客户端来指定：有客户端要xml而有的客户端要json</p>
<h1 id="RESTful消息"><a href="#RESTful消息" class="headerlink" title="RESTful消息"></a>RESTful消息</h1><hr>
<p>在REST服务中，HTTP请求与响应就是作为消息传递的技术<br>一个REST消息包含消息数据和元数据（为描述数据的数据）</p>
<ul>
<li>请求</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/3532419-f52243a45e011b2e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="HTTP Request"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Verb（动作） 表明HTTP方法，如GET、POST等</span><br><span class="line">URI 表示服务器上资源的统一资源标识符</span><br><span class="line">HTTP VERSION （http版本） 如 http v1.1</span><br><span class="line">请求头，包含HTTP请求消息的元数据，它是键值对（key-value），比如客户端类型</span><br><span class="line">请求体，消息内容和要求的REST服务器返回资源的表示形式</span><br></pre></td></tr></table></figure></p>
<ul>
<li>响应</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/3532419-3aeea247b6d413fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="HTTP Response"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Response Code（状态/响应码），表明请求资源的服务器状态，比如404 500等</span><br><span class="line">HTTP VERSION http版本</span><br><span class="line">响应头 返回响应的元数据 如服务器类型等，也是键值对</span><br><span class="line">响应体 以客户端想要的资源表现形式返回资源</span><br></pre></td></tr></table></figure></p>
<h1 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h1><hr>
<p>RESTful web 服务的URI（统一资源标识符）定义规则</p>
<ul>
<li>见名知意</li>
<li>避免使用空格与特殊字符，一般以下划线（_）或者字符（-）代替</li>
<li>使用小写字母，URI本身是不区分大小写的</li>
<li>保持向后兼容，Web服务是一种公共服务，URI一旦公开之后，应该始终可用，尽管需要更新URI，那也需要使用HTTP 300 重定向老的URI到新的URI</li>
<li>使用HTTP Verb</li>
</ul>
<p>Verb规则</p>
<ul>
<li>GET是只读且安全的</li>
<li>PUT和DELETE是幂等的</li>
<li>PUT和POST操作几乎相同，区别在于PUT幂等，而POST不幂等</li>
</ul>
<h1 id="RESTful-会话"><a href="#RESTful-会话" class="headerlink" title="RESTful 会话"></a>RESTful 会话</h1><hr>
<p>RESTful基于HTTP，是无状态的，想要保持会话，则客户端传递会话标识符，服务端保存会话标识符。就像Session和Cookie。</p>
<p>无状态的优势：</p>
<ul>
<li>Web服务可以独立对待每个请求方法</li>
<li>Web服务不需要维护客户端先前的交互</li>
<li>HTTP本身就是一个无状态协议，所以RESTful Web服务可与HTTP协议无缝协作</li>
</ul>
<h3 id="RESTful-客户端缓存"><a href="#RESTful-客户端缓存" class="headerlink" title="RESTful 客户端缓存"></a>RESTful 客户端缓存</h3><hr>
<p>当获取一个资源的时候，客户端应根据服务器返回的响应头中所指定的方式，以决定是否缓存资源，或者以何种方式缓存资源。</p>
<p>一个响应头可能包含的内容：</p>
<ul>
<li>Date 创建资源的日期和时间</li>
<li>Last Modified 最后修改资源的日期和时间</li>
<li>Cache-Control 控制缓存的主要头信息</li>
<li>Expires 缓存到期的日期和时间</li>
<li>Age 从服务器获取资源持续的秒数</li>
</ul>
<p>Cache-Control的取值：</p>
<ul>
<li>Public 表示该资源可由任何组件缓存</li>
<li>Private 表示该资源只能由客户端和服务器缓存，没有中介可以缓存</li>
<li>No-cache/no-store 表示该资源不可缓存</li>
<li>Max-age 表示该资源在max-age指定的秒数内有效，之后客户端必须发起另一个请求</li>
<li>Must-revalidate 表明如果max-age已经过去了，服务器要重新验证资源</li>
</ul>
<h3 id="RESTful-web服务安全性"><a href="#RESTful-web服务安全性" class="headerlink" title="RESTful web服务安全性"></a>RESTful web服务安全性</h3><hr>
<ol>
<li>验证来自客户端的所有输入，这可以避免注入攻击。</li>
<li>使用会话机制，对客户端此次请求进行权限认证。</li>
<li>URL应避免敏感数据。</li>
<li>合理使用HTTP Verb，比如GET方法，不应该能够删除数据。</li>
<li>验证XML/JSON数据是否合法正常</li>
<li>合理正确的使用HTTP错误消息，比如403、500等</li>
</ol>
<p>HTTP常见状态码：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3532419-368a75fbbb73e22a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="状态码"></p>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><hr>
<p>RESTful是一个web服务的架构标准，后端开发人员可以按照这个标准来实现API，而终端开发人员，同样可以用这个标准来使用API。<br>标准的存在，就是为了统一双方的约定，就好比一个接口，不论你用json返回数据还是xml返回数据，它都没有必然的对错，只要开发组的成员约定好，同时返回两种格式也行（RESTful的思想，也是这样）<br>一个广泛使用的标准，可以减少开发者之间的交流成本，也可以让一些新入职的员工能够更快适应项目。</p>
<p><a href="http://blog.vsonweb.com" target="_blank" rel="noopener">本文出自半醒的狐狸博客</a></p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/09/17/PHP-OOP的一些细节/">PHP OOP的一些细节</a><a class="next" href="/2018/09/17/PHP面向对象知识点索引/">PHP面向对象知识点索引</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://www.vsonweb.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/26/下一年的计划/">下一年的计划</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/个人发展的一些思考/">个人发展的一些思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/28/重温PHP计划/">PHP学习路线图</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/关于快速学习的一些心得/">关于快速学习的一些心得</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/PHP基础脑图/">PHP基础脑图</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/17/小团队Linux项目部署方案/">小团队Linux项目部署方案</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/17/用ORM还是用原生SQL？/">用ORM还是用原生SQL？</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/17/laravel经验总汇/">laravel 经验总汇</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/17/PHP7-1废弃Mcrypt后，可用openssl替代/">PHP7.1废弃Mcrypt后，可用openssl替代</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/17/电子合同接入与注意要点/">电子合同接入与注意要点</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="https://www.jianshu.com/u/e3d9db288dab" title="我的简书" target="_blank">我的简书</a><ul></ul><a href="https://github.com/Ablegang" title="我的Github" target="_blank">我的Github</a><ul></ul><a href="https://www.weifengchuxing.com" title="我的项目" target="_blank">我的项目</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">半醒的狐狸.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>